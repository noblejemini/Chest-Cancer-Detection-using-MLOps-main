schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/ChestCancerClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 0f213ba8a657fbda4940cba54783a313
      size: 907
    - path: src/ChestCancerClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: cd306b523eb7edf47e0f624724f5580e
      size: 904
    outs:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: 0e6e6f5c2e1172a07a7b7298c09f526a.dir
      size: 72562556
      nfiles: 2800
  prepare_base_model:
    cmd: python src/ChestCancerClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 0f213ba8a657fbda4940cba54783a313
      size: 907
    - path: src/ChestCancerClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: ec1e298dabe298b30ee1aabfbde5cbb5
      size: 987
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 6e2bc05ef72158590f89558357c81b47.dir
      size: 190540712
      nfiles: 2
  training:
    cmd: python src/ChestCancerClassifier/pipeline/stage_03_model_trainer.py
    deps:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: 0e6e6f5c2e1172a07a7b7298c09f526a.dir
      size: 72562556
      nfiles: 2800
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 6e2bc05ef72158590f89558357c81b47.dir
      size: 190540712
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 0f213ba8a657fbda4940cba54783a313
      size: 907
    - path: src/ChestCancerClassifier/pipeline/stage_03_model_trainer.py
      hash: md5
      md5: 6bab446bdfca58c4c4ad65aa30a20441
      size: 909
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 50
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: fa2d475da1c8f87a0c428976bf04b009
      size: 96481200
  evaluation:
    cmd: python src/ChestCancerClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: 0e6e6f5c2e1172a07a7b7298c09f526a.dir
      size: 72562556
      nfiles: 2800
    - path: artifacts/training/model.h5
      hash: md5
      md5: fa2d475da1c8f87a0c428976bf04b009
      size: 96481200
    - path: config/config.yaml
      hash: md5
      md5: 0f213ba8a657fbda4940cba54783a313
      size: 907
    - path: src/ChestCancerClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 7b1d49f4f60ab7a82a1f55689f9af771
      size: 926
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: a06c010d62149c015f8801168f777dcd
      size: 73
