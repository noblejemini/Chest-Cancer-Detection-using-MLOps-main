schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/ChestCancerClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: b14e82a614a4a7dcec0b68287d1d03e4
      size: 721
    - path: src/ChestCancerClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: cd306b523eb7edf47e0f624724f5580e
      size: 904
    outs:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: d218771ce988ff844fcc57085360b57d.dir
      size: 52556871
      nfiles: 485
  prepare_base_model:
    cmd: python src/ChestCancerClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: b14e82a614a4a7dcec0b68287d1d03e4
      size: 721
    - path: src/ChestCancerClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: ec1e298dabe298b30ee1aabfbde5cbb5
      size: 987
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 7f601a3c10b588228fec463eaa322420.dir
      size: 190540712
      nfiles: 2
  training:
    cmd: python src/ChestCancerClassifier/pipeline/stage_03_model_trainer.py
    deps:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: d218771ce988ff844fcc57085360b57d.dir
      size: 52556871
      nfiles: 485
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 7f601a3c10b588228fec463eaa322420.dir
      size: 190540712
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: b14e82a614a4a7dcec0b68287d1d03e4
      size: 721
    - path: src/ChestCancerClassifier/pipeline/stage_03_model_trainer.py
      hash: md5
      md5: 6bab446bdfca58c4c4ad65aa30a20441
      size: 909
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 25
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 3fe9ca7b297a24f058e91f3abd462acb
      size: 96481200
  evaluation:
    cmd: python src/ChestCancerClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/fall and nonfall
      hash: md5
      md5: d218771ce988ff844fcc57085360b57d.dir
      size: 52556871
      nfiles: 485
    - path: artifacts/training/model.h5
      hash: md5
      md5: 3fe9ca7b297a24f058e91f3abd462acb
      size: 96481200
    - path: config/config.yaml
      hash: md5
      md5: b14e82a614a4a7dcec0b68287d1d03e4
      size: 721
    - path: src/ChestCancerClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 7b1d49f4f60ab7a82a1f55689f9af771
      size: 926
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 02eb78060b764c65f6d7632046145d7e
      size: 73
